# 재귀

## 재귀란?

<aside>
💡 컴퓨터 과학에 있어서 재귀는 자신을 정의할 때 자기 자신을 재참조하는 방법을 뜻합니다.

</aside>

## 재귀 함수의 장단점

- 장점
    - 변수를 여러개 만들 필요가 없고, 코드가 간결해집니다.
- 단점
    - 재귀 함수를 사용하면 지속적으로 함수를 호출하게 되는데, 이 때 사용하는 매개변수, 지역변수, 리턴 값, 그리고 함수 종료 후 돌아가는 위치 등을 지속적으로 프로세스의 Stack에 저장해야되고 이는 선언한 변수의 값만 변경해서 사용하는 반복문과 달리 많은 메모리 사용을 의미합니다.
    - 함수 호출과 복귀를 하기 위한 context switching 비용이 발생하기 때문에, 속도가 상대적으로 느립니다. 즉, 오버헤드가 발생하여 속도가 느리게 된다는 뜻입니다.
    

## 꼬리 재귀?

- 재귀 함수의 단점을 해결하기 위한 방법
- 재귀의 결과를 바로 반환하는 재귀 형태
- 재귀 호출이 끝나는 시점에서 아무 일도 하지 않고 바로 결과를 반환하도록 하는 방법으로 함수의 상태 유지 및 추가 연산을 하지 않기에 스택 오버플로우를 해결할 수 있습니다.

```swift
// 일반 재귀
func recursion(_ num: Int) -> Int {
    if num == 0 { return num }
    return num * recursion(num - 1)
}

// 꼬리 재귀
func tailRecursion(_ num: Int, _ sum: Int) -> Int {
    if num == 0 { return sum }
    return tailRecursion(num - 1, sum + num)
}
```

두 재귀 함수의 차이점

- 일반 재귀는 파라미터로 num을 전달 받고 num + recursion 결과를 반환하고있다. 이 메서드 안에는 num + recursion 이라는 연산이 존재하고 연산이 존재하면 연산을 위한 값을 스택에 저장해야하기 때문에 재귀를 할 때마다 스택에 메모리 할당이 발생합니다.
- 꼬리 재귀는 sum을 파라미터로 전달하여 메서드 안의 연산을 없앴고 연산이 존재하지 않으므로 매번 새로운 값을 스택에 저장하지 않아도 되고 그렇기 때문에 기존의 스택을 재활용하여 메모리 최적화가 발생합니다.